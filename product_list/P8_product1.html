<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Edit Product</title>
        <link rel="stylesheet" type="text/css" href="../css/backstore.css">
        <script>
            function validateForm() {
              var x = document.forms["productform"]["Title"].value;
              if (x == "") {
                alert("Title must be filled out!");
                document.getElementById("Title").focus();
                return false;
              }
              if(!x.match(/[A-Z_a-z_0-9]/)){
                  alert("Title should not contain any special characters!")
                  document.getElementById("Title").focus();
                  return false;
              }
              x = document.forms["productform"]["Price"].value;
              if (x == "") {
                alert("Price must be filled out!");
                document.getElementById("Price").focus();
                return false;
              }
              if (!x.match(/[0-9]/)) {
                alert("Please check! The price must be a number!");
                document.getElementById("Price").focus();
                return false;
              }
              x = document.forms["productform"]["Quantity"].value;
              if (x == "") {
                alert("Quantity must be filled out!");
                document.getElementById("Quantity").focus();
                return false;
              }
              if (x.match(/[^0-9]/)) {
                alert("Please check! The quantity must be a number!");
                document.getElementById("Quantity").focus();
                return false;
              }
              x = document.forms["productform"]["Product Number"].value;
              if (x == "") {
                alert("Total amount of money must be given!");
                document.getElementById("Product Number").focus();
                return false;
              }
              if (!x.match(/\d\d\d-\d\d\d-\d\d\d/)) {
                alert("The format of product number is incorrect! xxx-xxx-xxx!");
                document.getElementById("Product Number").focus();
                return false;
              }
            }
            window.onbeforeunload = function(){
                localStorage.setItem("title1", document.getElementById("Title").value);
                localStorage.setItem("price1", document.getElementById("Price").value);
                localStorage.setItem("description1", document.getElementById("Description").value);
                localStorage.setItem("quantity1", document.getElementById("Quantity").value);
                localStorage.setItem("productnum1", document.getElementById("Product Number").value);
            }

            window.onload = function(){
                var name = localStorage.getItem("title1");
                if(name != null){
                  document.getElementById("Title").value = localStorage.getItem("title1");
                }
                var name = localStorage.getItem("price1");
                if(name != null){
                  document.getElementById("Price").value = localStorage.getItem("price1");
                }
                var name = localStorage.getItem("description1");
                if(name != null){
                  document.getElementById("Description").value = localStorage.getItem("description1");
                }
                var name = localStorage.getItem("quantity1");
                if(name != null){
                  document.getElementById("Quantity").value = localStorage.getItem("quantity1");
                }
                var name = localStorage.getItem("productnum1");
                if(name != null){
                  document.getElementById("Product Number").value = localStorage.getItem("productnum1");
                } 
            }
            </script>
    </head>
    <div class="header">
        <h1>Edit Product</h1>
        <hr/>

    </div> 

  <form action="#" name="productform" onsubmit="return validateForm()">
    Title: <br><input type="text" id="Title" name="Title"size="50"value="Frozen Chicken Pot Pie, St-Hubert" > <br><br>

    Price (In Canadian dollars): <br><input type="text" id="Price" name="Price"size="50"value="7.99" ><br><br>

    Description: <br><input type="text" name="Description" size="50" style="height:200px;" value="This Chicken Pot Pie will have your mouth watering for more!" id="Description"><br><br>
    
    <label for="img">Select image:</label>
    <input type="file" id="img" name="img" accept="image/*"> 
    <input type="submit"><br><br>
          
    Quantity:<br><input type="text" id="Quantity" name="Quantity" size="50"value="30" ><br><br>

    Product Number:<br><input type="text" id="Product Number" name="Product Number"size="50"value="001-999-303" ><br><br>

    <input type="submit" value="Submit">
  </form>




</body>
</html>
