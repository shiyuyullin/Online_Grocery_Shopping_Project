<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Add Product</title>
        <link rel="stylesheet" type="text/css" href="../css/backstore.css">
        <script>
            function validateForm() {
              var x = document.forms["addProduct"]["Title"].value;
              if (x == "") {
                alert("Title must be filled out!");
                document.getElementById("Title").focus();
                return false;
              }
              if(!x.match(/[A-Z_a-z_0-9]/)){
                  alert("Title should not contain any special characters!")
                  document.getElementById("Title").focus();
                  return false;
              }
              x = document.forms["addProduct"]["Price"].value;
              if (x == "") {
                alert("Price must be filled out!");
                document.getElementById("Price").focus();
                return false;
              }
              if (!x.match(/[0-9]/)) {
                alert("Please check! The price must be a number!");
                document.getElementById("Price").focus();
                return false;
              }
              x = document.forms["addProduct"]["Quantity"].value;
              if (x == "") {
                alert("Quantity must be filled out!");
                document.getElementById("Quantity").focus();
                return false;
              }
              if (x.match(/[^0-9]/)) {
                alert("Please check! The quantity must be a number!");
                document.getElementById("Quantity").focus();
                return false;
              }
              x = document.forms["addProduct"]["producNum"].value;
              if (x == "") {
                alert("Total amount of money must be given!");
                document.getElementById("Product Number").focus();
                return false;
              }
              if (!x.match(/\d\d\d-\d\d\d-\d\d\d/)) {
                alert("The format of product number is incorrect! xxx-xxx-xxx!");
                document.getElementById("producNum").focus();
                return false;
              }
            }
            window.onbeforeunload = function(){
                localStorage.setItem("addProductTitle", document.getElementById("Title").value);
                localStorage.setItem("addProductPrice", document.getElementById("Price").value);
                localStorage.setItem("addProductDescr", document.getElementById("Description").value);
                localStorage.setItem("addProductQuant", document.getElementById("Quantity").value);
                localStorage.setItem("addProductPronu", document.getElementById("producNum").value);
            }

            window.onload = function(){
                var name = localStorage.getItem("addProductTitle");
                if(name != null){
                  document.getElementById("Title").value = localStorage.getItem("addProductTitle");
                }
                var name = localStorage.getItem("addProductPrice");
                if(name != null){
                  document.getElementById("Price").value = localStorage.getItem("addProductPrice");
                }
                var name = localStorage.getItem("addProductDescr");
                if(name != null){
                  document.getElementById("Description").value = localStorage.getItem("descriaddProductDescrption1");
                }
                var name = localStorage.getItem("addProductQuant");
                if(name != null){
                  document.getElementById("Quantity").value = localStorage.getItem("addProductQuant");
                }
                var name = localStorage.getItem("addProductPronu");
                if(name != null){
                  document.getElementById("producNum").value = localStorage.getItem("addProductPronu");
                } 
            }
            </script>
    </head>
    <div class="header">
        <h1>Add Product</h1>
        <hr/>

    </div> 

  <form action="/action_page.php" name="addProduct" onsubmit="return validateForm()">
    Title:<br><input type="text" id="Title" name="Title"size="50"value=""> <br><br>

    Price:<br><input type="text" id="Price" name="Price"size="50"value="" ><br><br>

    Description:<br><textarea id="Description" name="Description"  rows="4" cols="50"></textarea><br><br>
       
    <label for="img">Select image:</label>
    <input type="file" id="img" name="img" accept="image/*"> 
    <input type="submit"><br><br>
         
    Quantity:<br><input type="text" id="Quantity" name="Quantity" size="50"value="" ><br><br>

    Product Number:<br><input type="text" id="producNum" name="producNum"size="50"value="" ><br><br>

    <br><br>
    <input type="submit" value="Submit">
   </form>




</body>
</html>
